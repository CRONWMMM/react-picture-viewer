!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ReactPictureViewer=t():e.ReactPictureViewer=t()}(this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){e.exports=n(12)()},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){"use strict";e.exports=n(10)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(1),o=n(8);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(9);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(11),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,u=o?Symbol.for("react.portal"):60106,c=o?Symbol.for("react.fragment"):60107,a=o?Symbol.for("react.strict_mode"):60108,f=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,s=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.concurrent_mode"):60111,y=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,d=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,i,u,c){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=[n,r,o,i,u,c],f=0;(e=Error(t.replace(/%s/g,function(){return a[f++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S={};function _(e,t,n){this.props=e,this.context=t,this.refs=S,this.updater=n||b}function O(){}function x(e,t,n){this.props=e,this.context=t,this.refs=S,this.updater=n||b}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&g("85"),this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},O.prototype=_.prototype;var w=x.prototype=new O;w.constructor=x,r(w,_.prototype),w.isPureReactComponent=!0;var j={current:null},P={current:null},T=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r=void 0,o={},u=null,c=null;if(null!=t)for(r in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(u=""+t.key),t)T.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var f=Array(a),l=0;l<a;l++)f[l]=arguments[l+2];o.children=f}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:P.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var M=/\/+/g,I=[];function R(e,t,n,r){if(I.length){var o=I.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function $(e,t,n){return null==e?0:function e(t,n,r,o){var c=typeof t;"undefined"!==c&&"boolean"!==c||(t=null);var a=!1;if(null===t)a=!0;else switch(c){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case i:case u:a=!0}}if(a)return r(o,t,""===n?"."+W(t,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(t))for(var f=0;f<t.length;f++){var l=n+W(c=t[f],f);a+=e(c,l,r,o)}else if(l=null===t||"object"!=typeof t?null:"function"==typeof(l=v&&t[v]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),f=0;!(c=t.next()).done;)a+=e(c=c.value,l=n+W(c,f++),r,o);else"object"===c&&g("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return a}(e,"",t,n)}function W(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function H(e,t){e.func.call(e.context,t,e.count++)}function N(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,r,n,function(e){return e}):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(M,"$&/")+"/")+n)),r.push(e))}function U(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(M,"$&/")+"/"),$(e,N,t=R(t,i,r,o)),L(t)}function A(){var e=j.current;return null===e&&g("321"),e}var D={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return U(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;$(e,H,t=R(null,null,t,n)),L(t)},count:function(e){return $(e,function(){return null},null)},toArray:function(e){var t=[];return U(e,t,null,function(e){return e}),t},only:function(e){return C(e)||g("143"),e}},createRef:function(){return{current:null}},Component:_,PureComponent:x,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:y,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return A().useCallback(e,t)},useContext:function(e,t){return A().useContext(e,t)},useEffect:function(e,t){return A().useEffect(e,t)},useImperativeHandle:function(e,t,n){return A().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return A().useLayoutEffect(e,t)},useMemo:function(e,t){return A().useMemo(e,t)},useReducer:function(e,t,n){return A().useReducer(e,t,n)},useRef:function(e){return A().useRef(e)},useState:function(e){return A().useState(e)},Fragment:c,StrictMode:a,Suspense:h,createElement:E,cloneElement:function(e,t,n){null==e&&g("267",e);var o=void 0,u=r({},e.props),c=e.key,a=e.ref,f=e._owner;if(null!=t){void 0!==t.ref&&(a=t.ref,f=P.current),void 0!==t.key&&(c=""+t.key);var l=void 0;for(o in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)T.call(t,o)&&!k.hasOwnProperty(o)&&(u[o]=void 0===t[o]&&void 0!==l?l[o]:t[o])}if(1===(o=arguments.length-2))u.children=n;else if(1<o){l=Array(o);for(var s=0;s<o;s++)l[s]=arguments[s+2];u.children=l}return{$$typeof:i,type:e.type,key:c,ref:a,props:u,_owner:f}},createFactory:function(e){var t=E.bind(null,e);return t.type=e,t},isValidElement:C,version:"16.8.6",unstable_ConcurrentMode:p,unstable_Profiler:f,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:j,ReactCurrentOwner:P,assign:r}},z={default:D},V=z&&D||z;e.exports=V.default||V},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,u,c=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){for(var f in n=Object(arguments[a]))o.call(n,f)&&(c[f]=n[f]);if(r){u=r(n);for(var l=0;l<u.length;l++)i.call(n,u[l])&&(c[u[l]]=n[u[l]])}}return c}},function(e,t,n){"use strict";var r=n(13);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,u){if(u!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(3),u=n.n(i),c=n(4),a=n.n(c),f=n(5),l=n.n(f),s=n(6),p=n.n(s),y=n(7),h=n.n(y),d=n(2),m=n.n(d),v=n(0),g=n.n(v);function b(e){return"NaN"===e.toString()}n(14);var S=null,_=null,O=function(e){function t(){var e,n;u()(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=l()(this,(e=p()(t)).call.apply(e,[this].concat(i)))).state={focus:!1,imageWidth:0,imageHeight:0,startX:0,startY:0,startLeft:0,startTop:0,currentLeft:0,currentTop:0,scale:1},n.initViewport=function(e,t){S.style.width=b(+e)?e:"".concat(e,"px"),S.style.height=b(+t)?t:"".concat(t,"px")},n.initPictureInfo=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!_.clientWidth||!_.clientHeight)return setTimeout(n.initPictureInfo,0,e);n.changeToContain(e,t)},n.changeToContain=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n._getImageOriginSize(e).then(function(e){var r=e.width,o=e.height,i=[S.clientWidth,S.clientHeight],u=i[0],c=i[1],a=n.recalcImageSizeToContain(r,o),f=a.imageWidth,l=a.imageHeight,s=t?(c-l)/2:0,p=t?(u-f)/2:0;t&&n.changePosition(p,s),n.setState({scale:1,imageWidth:f,imageHeight:l,currentLeft:p,currentTop:s,startLeft:p,startTop:s})})},n.recalcImageSizeToContain=function(e,t){var r=e/t,o=[S.clientWidth,S.clientHeight],i=o[0],u=o[1];return e>i?(t=(e=i)/r,n.recalcImageSizeToContain(e,t)):t>u?(e=(t=u)*r,n.recalcImageSizeToContain(e,t)):{imageWidth:e,imageHeight:t}},n.handleMouseDown=function(e){if((e.target||e.toElement)===_){var t=n._getOffsetInElement(e,S),r=t.top,o=t.left;n.setState({focus:!0,startX:o,startY:r})}},n.handleMouseMove=function(e){var t=n.state,r=t.focus,o=t.startX,i=t.startY,u=t.startTop,c=t.startLeft;if(r){var a=n._getOffsetInElement(e,S),f=a.left-o,l=a.top-i;n.setState({currentLeft:c+f,currentTop:u+l})}},n.handleMouseUp=function(){var e=n.state,t=e.currentLeft,r=e.currentTop;n.setState({focus:!1,startX:0,startY:0,startLeft:t,startTop:r})},n.handleMouseLeave=function(){n.handleMouseUp()},n.handleMouseWheel=function(e){var t=n.props,r=t.minimum,o=t.maximum,i=t.rate,u=n.state,c=u.imageWidth,a=u.imageHeight,f=u.currentLeft,l=u.currentTop,s=u.scale,p=[_.clientWidth,_.clientHeight],y=p[0],h=p[1],d=e.nativeEvent||e;d.preventDefault();var m=1+d.wheelDelta/(12e3/i);if(!(s<=r&&m<1||s>=o&&m>1)){var v=y*m/c,g=(v=v<=r?r:v>=o?o:v)*c,b=v*a,S=n._getOffsetInElement(e,_),O=S.left,x=S.top,w=O/y*g,j=x/h*b;n.setState({scale:v,startLeft:f+(O-w),startTop:l+(x-j),currentLeft:f+(O-w),currentTop:l+(x-j)})}},n._getOffsetInElement=function(e,t){var r,o,i=e.target||e.toElement;if(!n._inTargetArea(i,t))return null;var u=n._getOffset(t),c=u.left,a=u.top;return r=e.clientX-c,{top:o=e.clientY-a,left:r,right:t.offsetWidth-r,bottom:t.offsetHeight-o}},n._inTargetArea=function(e,t){if(e===t)return!0;for(var n=e.parentNode;null!=n;){if(n===t)return!0;n=(e=n).parentNode}return!1},n._getOffset=function(e){var t=document.documentElement,n=t.clientWidth,r=t.clientHeight,o=e.getBoundingClientRect();return{left:o.left,top:o.top,right:n-o.right,bottom:r-o.bottom}},n._getImageOriginSize=function(e){var t="object"===o()(e)?e.src:e;return new Promise(function(e){var n=new Image;n.src=t,n.onload=function(){var t=n.width,r=n.height;e({width:t,height:r})}})},n}return h()(t,e),a()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.key,n=e.width,r=e.height,o=e.children;S=document.getElementById(t),_=S.getElementsByTagName("img")[0],this.initViewport(n,r),_.addEventListener("wheel",this.handleMouseWheel,{passive:!1}),this.initPictureInfo(o.props.src)}},{key:"componentWillReceiveProps",value:function(e){this.initPictureInfo(e.children.props.src)}},{key:"componentWillUpdate",value:function(e,t){var n=t.scale,r=t.imageWidth,o=t.imageHeight,i=t.currentLeft,u=t.currentTop,c=n*r,a=n*o;this.changePosition(i,u),this.changeSize(c,a)}},{key:"changeToCover",value:function(){}},{key:"changePosition",value:function(e,t){_.style.top="".concat(t,"px"),_.style.left="".concat(e,"px")}},{key:"changeSize",value:function(e,t){_.style.maxWidth=_.style.maxHeight="none",_.style.width="".concat(e,"px"),_.style.height="".concat(t,"px")}},{key:"render",value:function(){var e=this.props,t=e.key,n=e.children,r=e.className;return m.a.createElement("div",{id:t,className:"react-picture-viewer ".concat(r),onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp},n)}}]),t}(m.a.Component);O.propTypes={key:g.a.oneOfType([g.a.number,g.a.string]),width:g.a.oneOfType([g.a.number,g.a.string]),height:g.a.oneOfType([g.a.number,g.a.string]),minimum:g.a.number,maximum:g.a.number,rate:g.a.number,children:g.a.object.isRequired,className:g.a.string,center:g.a.bool},O.defaultProps={key:"viewport",width:"600px",height:"400px",minimum:.8,maximum:8,rate:10,center:!0};var x=O;n.d(t,"default",function(){return x})}])});